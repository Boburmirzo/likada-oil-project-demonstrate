<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:body>
	<ui:composition template="/layout/forcab.xhtml">
		<ui:define name="windowTitle">#{msgs['edit_driver.title']}</ui:define>
		<ui:define name="content">
			<script type="text/javascript">
				function reloadPage() {
					location.reload();
				}
			</script>


			<h:form id="form_driver_edit">
				<p:panelGrid styleClass="ui-noborder" style="width: 100%;">

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.title']}: " />
						</p:column>
						<p:column>
							<p:inputText value="#{driverBackingBean.selectedDriver.title}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.lastName']}: " />
						</p:column>
						<p:column>
							<p:inputText  style="width:566px" value="#{driverBackingBean.selectedDriver.lastName}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.firstName']}: " />
						</p:column>
						<p:column>
							<p:inputText style="width:566px" value="#{driverBackingBean.selectedDriver.firstName}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.patronymic']}: " />
						</p:column>
						<p:column>
							<p:inputText style="width:566px" value="#{driverBackingBean.selectedDriver.patronymic}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row>
						<p:column colspan="7">
							<b><p:separator /> <p:outputLabel value="#{msgs['drivers.docName']}" /> <i class="fa fa-angle-double-down" /> </b>
						</p:column>
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.docSerial']}: " />
						</p:column>
						<p:column>
							<p:inputText value="#{driverBackingBean.selectedDriver.docSerial}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.docNumber']}: " />
						</p:column>
						<p:column>
							<p:inputText value="#{driverBackingBean.selectedDriver.docNumber}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.docGivenDate']}: " />
						</p:column>
						<p:column>
							<p:calendar value="#{driverBackingBean.selectedDriver.docGivenDate}" pattern="dd.MM.yyyy" locale="ru" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.docGivenFrom']}: " />
						</p:column>
						<p:column>
							<p:inputText style="width:566px" value="#{driverBackingBean.selectedDriver.docGivenFrom}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.docCode']}: " />
						</p:column>
						<p:column>
							<p:inputText value="#{driverBackingBean.selectedDriver.docCode}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.docDescription']}: " />
						</p:column>
						<p:column colspan="4">
							<p:inputTextarea rows="2" style="width:566px" value="#{driverBackingBean.selectedDriver.docDescription}" />
						</p:column>
						<p:column colspan="2" />
					</p:row>

					<p:row>
						<p:column colspan="7">
							<p:separator />
						</p:column>
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.dateOfBirth']}: " />
						</p:column>
						<p:column>
							<p:calendar value="#{driverBackingBean.selectedDriver.dateOfBirth}" pattern="dd.MM.yyyy" locale="ru" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.phone1']}: " />
						</p:column>
						<p:column>
							<p:inputText value="#{driverBackingBean.selectedDriver.phone1}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.phone2']}: " />
						</p:column>
						<p:column>
							<p:inputText value="#{driverBackingBean.selectedDriver.phone2}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>

					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.phoneEmergency']}: " />
						</p:column>
						<p:column>
							<p:inputText value="#{driverBackingBean.selectedDriver.phoneEmergency}" />
						</p:column>
						<p:column colspan="5" />
					</p:row>


					<p:row style="height: 25px">
						<p:column>
							<p:outputLabel value="#{msgs['drivers.description']}: " />
						</p:column>
						<p:column colspan="4">
							<p:inputTextarea rows="2" style="width:566px" value="#{driverBackingBean.selectedDriver.description}" />
						</p:column>
						<p:column colspan="2" />
					</p:row>
				</p:panelGrid>

				<div style="height: 25px;" />
				<p:outputLabel value="Машины" />
				<div style="height: 5px;" />
				<p:outputPanel>
					<p:dataTable id="table_connected_drivers" styleClass="ui-noborder" style="width:100%;" var="vehicle" value="#{driverController.vehiclesConnectedWithDriver}" rowKey="#{vehicle.id}" sortBy="#{vehicle.truck.title}"
								 emptyMessage="Нет записей">
						<p:column headerText="#{msgs['vehicles.title']}" style="white-space:nowrap;" priority="2">
							<h:outputText value="#{vehicle.truck.title}" />
						</p:column>

						<p:column headerText="#{msgs['vehicles.govNumber']}" style="white-space:nowrap;" priority="1">
							<h:outputText value="#{vehicle.truck.govNumber}" />
						</p:column>

						<p:column headerText="#{msgs['vehicles.trailerGovNumber']}" style="white-space:nowrap;" priority="1">
							<h:outputText value="#{vehicle.trailer.govNumber}" />
						</p:column>

						<p:column headerText="#{msgs['vehicles.carrier']}" style="white-space:nowrap;" priority="1">
							<h:outputText value="#{vehicle.carrier.nameShort}" style="white-space:nowrap;" />
						</p:column>

						<p:column headerText="#{msgs['vehicles.logistician']}" style="white-space:nowrap;" priority="1">
							<h:outputText value="#{vehicle.logistician.title}" />
						</p:column>
					</p:dataTable>
				</p:outputPanel>

				<p:separator />
				<p:panelGrid styleClass="ui-noborder" style="float:right;">
					<p:row>
						<p:column>
							<p:commandButton id="com_saveEdit" value="Сохранить" actionListener="#{driverController.buttonActionSaveDriver}">
							</p:commandButton>
							<p:spacer />
							<p:commandButton id="com_cancelSaveEdit" value="Отмена" actionListener="#{driverController.buttonActionCancelSaveDriver}">
							</p:commandButton>
						</p:column>
					</p:row>
				</p:panelGrid>

				<p:defaultCommand target="com_saveEdit" />
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>
